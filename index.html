<!DOCTYPE html>
<html lang="pt-br" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>play.u Live Entertainment</title>
    <link rel="icon" href="assets/images/logo.png" type="image/png">
    <script src="assets/js/version.d791c90b.js"></script>
    <script>
        function loadAsset(path) {
            const version = typeof SITE_VERSION !== 'undefined' ? SITE_VERSION : new Date().getTime();
            const extension = path.split('.').pop();
            if (extension === 'css') {
                document.write(`<link rel="stylesheet" href="${path}?v=${version}">`);
            } else if (extension === 'js') {
                document.write(`<script src="${path}?v=${version}" defer><\/script>`);
            }
        }
    </script>
</head>
<body>

    <header id="header" class="header">
        <nav class="nav container">
            <ul class="nav__links left"></ul>
            
            <a href="index.html#home" class="nav__logo">
                <img src="assets/images/logo.png" alt="PlayU Logo">
            </a>

            <div class="nav__right-group">
                <ul class="nav__links right"></ul>
                
<div class="nav-buttons" id="user-logged-in-menu" style="display: none; gap: 10px; align-items: center;">
    
    <a href="admin.html" id="btn-admin-panel" class="submit-btn small-btn hidden" style="background: var(--secondary-color); color: #fff; text-decoration: none;">
        <ion-icon name="settings-outline"></ion-icon> Painel Admin
    </a>
    
    <a href="perfil.html" class="submit-btn small-btn" style="text-decoration: none;">Meu Perfil</a>
    <button id="btn-logout" class="submit-btn small-btn secondary-btn">Sair</button>                  
                </div>
            </div>
        </nav>
    </header>

    <main>
       <section class="hero-carousel" style="position: relative; width: 100%; height: 500px; overflow: hidden; background: #000;">
    
    <div class="carousel-track" id="carousel-track">
        </div>

    <button class="carousel-control prev" onclick="window.prevSlide()" style="position: absolute; top: 50%; left: 20px; transform: translateY(-50%); z-index: 10; background: rgba(0,0,0,0.5); border: none; color: white; font-size: 2rem; cursor: pointer; padding: 5px 15px; border-radius: 8px;">&#10094;</button>

    <button class="carousel-control next" onclick="window.nextSlide()" style="position: absolute; top: 50%; right: 20px; transform: translateY(-50%); z-index: 10; background: rgba(0,0,0,0.5); border: none; color: white; font-size: 2rem; cursor: pointer; padding: 5px 15px; border-radius: 8px;">&#10095;</button>

    <div class="carousel-dots" id="carousel-dots" style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 10; display: flex; gap: 10px;"></div>
</section>

        <section id="sobre" class="main-content alternate-bg">
            <div class="container">
                <h1 class="page-title" data-lang-key="aboutUs">Sobre a PlayU</h1>
                
                <div class="about-grid">
                    <div class="about-text">
                        <h2 data-lang-key="ourHistory">Nossa História</h2>
                        <p data-lang-key="historyTextLong">
                            Carregando nossa história...
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section id="games-section" style="padding: 40px 20px; max-width: 1200px; margin: 0 auto;">
    
    <h2 style="text-align: center; margin-bottom: 30px; font-size: 2rem;">Nossos Jogos</h2>

    <div class="search-container" style="position: relative; margin-bottom: 30px; display: flex; gap: 10px; flex-wrap: wrap;">
        
        <div style="flex: 1; position: relative;">
            <ion-icon name="search-outline" style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #888;"></ion-icon>
            <input type="text" id="search-input" placeholder="Buscar jogo pelo nome..." 
                   oninput="applyGameFilters()"
                   style="width: 100%; padding: 12px 12px 12px 45px; border-radius: 8px; border: 1px solid #333; background: #1a1a1a; color: #fff; font-size: 1rem;">
        </div>

        <button id="toggle-filter-btn" onclick="toggleFilterPanel()" 
                style="padding: 0 20px; background: #222; border: 1px solid #333; color: #fff; border-radius: 8px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 1rem;">
            <ion-icon name="options-outline"></ion-icon> Filtros
        </button>
    </div>

    <div id="filter-panel" class="hidden" style="background: #1a1a1a; border: 1px solid #333; padding: 20px; border-radius: 8px; margin-bottom: 30px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
        
        <div>
            <label style="display: block; color: #aaa; margin-bottom: 8px; font-size: 0.9rem;">
                <ion-icon name="time-outline"></ion-icon> Tempo Máximo (min)
            </label>
            <select id="filter-time" onchange="applyGameFilters()" style="width: 100%; padding: 10px; background: #222; border: 1px solid #444; color: #fff; border-radius: 5px;">
                <option value="all">Qualquer duração</option>
                <option value="30">Até 30 minutos</option>
                <option value="60">Até 1 hora</option>
                <option value="120">Mais de 1 hora</option>
            </select>
        </div>

        <div>
            <label style="display: block; color: #aaa; margin-bottom: 8px; font-size: 0.9rem;">
                <ion-icon name="people-outline"></ion-icon> Nº de Jogadores
            </label>
            <input type="number" id="filter-players" placeholder="Ex: 4" oninput="applyGameFilters()"
                   style="width: 100%; padding: 10px; background: #222; border: 1px solid #444; color: #fff; border-radius: 5px;">
        </div>

        <div>
            <label style="display: block; color: #aaa; margin-bottom: 8px; font-size: 0.9rem;">
                <ion-icon name="pricetags-outline"></ion-icon> Categoria / Tag
            </label>
            <select id="filter-tag" onchange="applyGameFilters()" style="width: 100%; padding: 10px; background: #222; border: 1px solid #444; color: #fff; border-radius: 5px;">
                <option value="all">Todas as categorias</option>
                <option value="rpg">RPG</option>
                <option value="puzzle">Puzzle / Enigma</option>
                <option value="horror">Terror / Suspense</option>
                <option value="adventure">Aventura</option>
            </select>
        </div>
        
        <div style="display: flex; align-items: flex-end;">
            <button onclick="clearFilters()" style="padding: 10px 20px; background: #333; color: #fff; border: none; border-radius: 5px; cursor: pointer; width: 100%;">
                Limpar Filtros
            </button>
        </div>
    </div>

    <div id="games-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;">
        <p style="color: #666; grid-column: 1 / -1; text-align: center;">Carregando jogos...</p>
    </div>
    
    <p id="no-results-msg" class="hidden" style="text-align: center; color: #888; margin-top: 30px;">
        Nenhum jogo encontrado com esses filtros.
    </p>

</section>

        <section id="faq" class="main-content">
            <div class="container">
                <h1 class="page-title" data-lang-key="faqTitle">Perguntas Frequentes</h1>
                
                <div class="faq-container">
                    <div class="loader"></div>
                </div>
            </div>
        </section>

        <section id="contato" class="main-content alternate-bg">
            <div class="container">
                <h1 class="page-title" data-lang-key="contactUs">Entre em Contato</h1>
                
                <div class="contact-grid">
                    <div class="contact-form">
                        <h2 data-lang-key="sendMessage">Envie uma Mensagem</h2>
                        <form action="#">
                            <div class="form-group">
                                <label for="name" data-lang-key="formName">Nome</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="email" data-lang-key="formEmail">Email</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="subject" data-lang-key="formSubject">Assunto</label>
                                <input type="text" id="subject" name="subject" required>
                            </div>
                            <div class="form-group">
                                <label for="message" data-lang-key="formMessage">Mensagem</label>
                                <textarea id="message" name="message" rows="5" required></textarea>
                            </div>
                            <button type="submit" class="submit-btn" data-lang-key="formSubmit">Enviar</button>
                        </form>
                    </div>
                    
                    <div class="contact-info">
                        <h2 data-lang-key="infoTitle">Informações de Contato</h2>
                        <p data-lang-key="infoText">Se preferir, pode nos contatar por outros meios ou nos fazer uma visita.</p>
                        <ul>
                            <li><ion-icon name="call-outline"></ion-icon> (81) 99999-8888</li>
                            <li><ion-icon name="mail-outline"></ion-icon> contato@playu.com</li>
                        </ul>
                        <div class="social-links">
                            <a href="https://instagram.com/playu.gg" target="_blank" rel="noopener noreferrer"><ion-icon name="logo-instagram"></ion-icon> Nos siga no Instagram!</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <a href="#" class="back-to-top" id="back-to-top"><ion-icon name="arrow-up-outline"></ion-icon></a>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

    <script src="assets/js/firebase-config.js"></script>

    <script>
        (function() {
            const loggedInUser = JSON.parse(sessionStorage.getItem('loggedInUser'));

            if (loggedInUser) {
                let targetPage = 'dashboard.html'; 
                if (loggedInUser.role === 'admin') {
                    targetPage = 'admin.html';
                } else if (loggedInUser.role === 'host') {
                    targetPage = 'host-panel.html';
                }
            }
        })();
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // Aguarda o firebase-config inicializar o window.db ou usa direto
            const db = window.db || firebase.firestore();

            // 1. Carregar Sobre
            try {
                const aboutDoc = await db.collection('siteContent').doc('about').get();
                if (aboutDoc.exists && aboutDoc.data().text) {
                    const aboutParagraph = document.querySelector('.about-text p');
                    if(aboutParagraph) {
                        aboutParagraph.innerHTML = aboutDoc.data().text.replace(/\n/g, '<br>');
                    }
                }
            } catch (e) { console.error("Erro ao carregar Sobre", e); }

            // 2. Carregar FAQ
            try {
                const faqDoc = await db.collection('siteContent').doc('faq').get();
                if (faqDoc.exists && faqDoc.data().items) {
                    const faqs = faqDoc.data().items;
                    const faqContainer = document.querySelector('.faq-container');
                    
                    if(faqContainer && faqs.length > 0) {
                        faqContainer.innerHTML = ''; // Remove o loader
                        
                        faqs.forEach(faq => {
                            const details = document.createElement('details');
                            details.className = 'faq-item';
                            details.innerHTML = `
                                <summary class="faq-question">${faq.question}</summary>
                                <p class="faq-answer">${faq.answer.replace(/\n/g, '<br>')}</p>
                            `;
                            faqContainer.appendChild(details);
                        });
                    } else {
                        if(faqContainer) faqContainer.innerHTML = '<p>Em breve.</p>';
                    }
                } else {
                    // Caso não tenha nada no banco ainda, mostra placeholder ou remove o loader
                    const faqContainer = document.querySelector('.faq-container');
                    if(faqContainer) faqContainer.innerHTML = '<p>Nenhuma pergunta encontrada.</p>';
                }
            } catch (e) { 
                console.error("Erro ao carregar FAQ", e);
                const faqContainer = document.querySelector('.faq-container');
                if(faqContainer) faqContainer.innerHTML = '<p>Erro ao carregar perguntas.</p>';
            }
        });
    </script>

    <script>
        loadAsset('assets/css/style.d791c90b.css');
        loadAsset('assets/js/data-manager.d791c90b.js'); 
        loadAsset('assets/js/translations.d791c90b.js');
        loadAsset('assets/js/main.d791c90b.js');
    </script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>