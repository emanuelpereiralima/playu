<!DOCTYPE html>
<html lang="pt-br" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - PlayU</title>
    <script src="assets/js/version.8f3f5b8c.js"></script>
    <script>
        function loadAsset(path) {
            const version = typeof SITE_VERSION !== 'undefined' ? SITE_VERSION : new Date().getTime();
            const extension = path.split('.').pop();
            if (extension === 'css') {
                document.write(`<link rel="stylesheet" href="${path}?v=${version}">`);
            } else if (extension === 'js') {
                document.write(`<script src="${path}?v=${version}" defer><\/script>`);
            }
        }
    </script>
</head>
<body>
    <header class="main-header">
        <div class="header-container">
            <h1 class="logo">Painel Admin</h1>
            <div class="user-menu">
                <span id="user-greeting">Olá, Admin</span>
                <a href="index.html" class="submit-btn small-btn">Voltar para Início</a>
            </div>
        </div>
        
        <div class="container dashboard-tabs" style="margin-top: 1rem; border-bottom: none;">
            <button class="tab-btn" onclick="switchAdminTab('user-management')">Usuários</button>
            <button class="tab-btn active" onclick="switchAdminTab('game-management')">Jogos</button>
            <button class="tab-btn" onclick="switchAdminTab('content-management')">Conteúdo</button>
            <button class="tab-btn" onclick="switchAdminTab('course-management')">Cursos</button>
        </div>
    </header>

    <main class="dashboard-main">
        
        <section id="user-management" class="dashboard-section hidden-section">
            <div class="section-header">
                <h2>Gerenciamento de Usuários</h2>
                <div class="search-box">
                    <ion-icon name="search-outline"></ion-icon>
                    <input type="text" id="user-search-input" placeholder="Buscar...">
                </div>
            </div>
            <div class="table-container">
                <table class="admin-table">
                    <thead><tr><th>Nome</th><th>Email</th><th>Cargo</th><th>Ações</th></tr></thead>
                    <tbody id="user-table-body"><tr><td colspan="4"><div class="loader"></div></td></tr></tbody>
                </table>
            </div>
        </section>

        <section id="game-management" class="dashboard-section">
            <div class="section-header">
                <h2>Gerenciamento de Jogos</h2>
                <button id="open-create-game-modal-btn" class="submit-btn"><ion-icon name="add-circle-outline"></ion-icon> Novo Jogo</button>
            </div>
            <div id="game-list-container" class="games-grid"></div>
        </section>

        <section id="content-management" class="dashboard-section hidden-section">
            <div class="section-header">
                <h2>Gerenciamento de Conteúdo</h2>
                <div class="content-tabs">
                    <button class="tab-btn active" data-target="edit-faq">FAQ</button>
                    <button class="tab-btn" data-target="edit-about">Sobre</button>
                </div>
            </div>
            <div id="edit-faq" class="content-sub-section active-section">
                <div id="faq-list-admin" class="bookings-list"></div>
                <button id="add-faq-btn" class="submit-btn" style="margin-top: 1rem;">Nova Pergunta</button>
            </div>
            <div id="edit-about" class="content-sub-section hidden-section">
                <form id="about-form">
                    <div class="form-group"><label>História</label><textarea id="about-history" rows="10"></textarea></div>
                    <button type="submit" class="submit-btn">Salvar</button>
                </form>
            </div>
        </section>

        <section id="course-management" class="dashboard-section hidden-section">
            <div class="section-header">
                <h2>Cursos Online</h2>
                <button id="add-course-btn" class="submit-btn"><ion-icon name="school-outline"></ion-icon> Criar Curso</button>
            </div>
            <div id="course-list-admin" class="game-grid"></div>
        </section>

    </main>

    <div id="edit-user-modal" class="modal-overlay hidden"><div class="modal-content"><button id="close-user-modal" class="close-overlay-btn">&times;</button><h3>Editar Usuário</h3><form id="edit-user-form"><input type="hidden" id="edit-user-id"><div class="form-group"><label>Nome</label><input type="text" id="edit-user-name" required></div><div class="form-group"><label>Cargo</label><select id="edit-user-role" class="role-select" style="width:100%"><option value="user">Jogador</option><option value="host">Host</option><option value="admin">Admin</option></select></div><div class="modal-footer"><button type="button" id="delete-user-btn" class="submit-btn danger-btn">Excluir</button><div class="right-buttons"><button type="button" id="cancel-edit-btn" class="submit-btn secondary-btn">Cancelar</button><button type="submit" class="submit-btn primary-btn">Salvar</button></div></div></form></div></div>
    <div id="faq-modal" class="modal-overlay hidden"><div class="modal-content"><button id="close-faq-modal" class="close-overlay-btn">&times;</button><h3 id="faq-modal-title">Pergunta</h3><form id="faq-form"><input type="hidden" id="faq-id"><div class="form-group"><label>Pergunta</label><input type="text" id="faq-question" required></div><div class="form-group"><label>Resposta</label><textarea id="faq-answer" rows="4" required></textarea></div><div class="modal-footer"><button type="button" id="delete-faq-btn" class="submit-btn danger-btn hidden">Excluir</button><div class="right-buttons"><button type="button" id="cancel-faq-btn" class="submit-btn secondary-btn">Cancelar</button><button type="submit" class="submit-btn">Salvar</button></div></div></form></div></div>
    <div id="course-modal" class="modal-overlay hidden"><div class="modal-content large-modal"><button id="close-course-modal" class="close-overlay-btn">&times;</button><h3 id="course-modal-title">Curso</h3><form id="course-form" class="scrollable-form"><input type="hidden" id="course-id"><div class="form-group"><label>Título</label><input type="text" id="course-title" required></div><div class="form-group"><label>Descrição</label><textarea id="course-desc" rows="3"></textarea></div><div class="form-group">
    <label>Capa do Curso</label>
    
    <div class="upload-box-container upload-btn" onclick="document.getElementById('course-cover-upload').click()">
        <ion-icon name="image-outline" class="upload-box-icon"></ion-icon>
        <span class="upload-box-text">Clique para enviar imagem da capa</span>
        
        <input type="hidden" id="course-cover-url">
        <input type="file" id="course-cover-upload" accept="image/*" style="display:none;">
    </div>

    <img id="course-cover-preview" src="" style="width:100%; height:150px; object-fit:cover; border-radius:8px; margin-top:10px; display:none; border:1px solid #444;">
</div><hr class="form-divider"><div class="form-group"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;"><label style="margin:1rem">Módulos</label><button type="button" id="add-module-btn" class="submit-btn small-btn secondary-btn">+ Módulo</button></div><div id="modules-container"></div></div><div class="modal-footer"><button type="button" id="delete-course-btn" class="submit-btn danger-btn hidden">Excluir</button><div class="right-buttons"><button type="button" id="cancel-course-btn" class="submit-btn secondary-btn">Cancelar</button><button type="submit" class="submit-btn">Salvar</button></div></div></form></div></div>

    <div id="create-game-modal" class="modal-overlay hidden">
        <div class="modal-content xl-modal" style="width: 1200px; max-width: 98vw; height: 90vh; display: flex; flex-direction: column;">
            <div class="modal-header">
                <h2 id="game-modal-title">Criar Novo Jogo</h2>
                <button id="close-create-game-modal" class="close-overlay-btn">&times;</button>
            </div>
            <form id="create-game-form" style="display: flex; flex-direction: column; flex: 1; overflow: hidden;">
                <input type="hidden" id="game-id">
                <div class="modal-body-scroll" style="flex: 1; display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; overflow-y: auto; padding: 1rem;">
                    
<div class="modal-col-left">
    <h4 style="color: var(--secondary-color); border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px;">Informações</h4>
    
    <div class="form-row"><div class="form-group"><label>Nome *</label><input type="text" id="new-game-name" required></div><div class="form-group"><label>Status</label><select id="new-game-status"><option value="available">Disponível</option><option value="paused">Pausado</option></select></div></div>
<div class="form-row">
    <div class="form-group">
        <label>Duração Padrão (Min)</label>
        <input type="number" id="new-game-duration" required>
    </div>
    
    <div class="form-group">
        <label>Valor Padrão (R$)</label>
        <input type="number" id="new-game-price" step="0.01" required placeholder="0.00" oninput="window.calculateHostEarnings()">
        
        <div id="price-earnings-preview" style="font-size: 0.8rem; margin-top: 5px; background: rgba(0,0,0,0.3); padding: 5px 8px; border-radius: 4px; border-left: 3px solid #00ff88; display:flex; justify-content:space-between;">
            <span style="color: #aaa;">Sua parte (70%):</span>
            <span id="host-share-display" style="color: #00ff88; font-weight: bold;">R$ 0,00</span>
        </div>
    </div>
</div>

<div class="form-group" style="background: rgba(255,255,255,0.02); padding: 15px; border-radius: 8px; border: 1px dashed #444;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
        <label style="margin: 0; color: var(--secondary-color);"><ion-icon name="layers-outline"></ion-icon> Pacotes Especiais (Opcional)</label>
        <button type="button" class="submit-btn small-btn" onclick="window.openCategoryModal()" style="padding: 4px 10px; font-size: 1.2rem; line-height: 1;">+</button>
    </div>
    <p style="font-size: 0.75rem; color: #aaa; margin-bottom: 10px;">Crie categorias (ex: Premium, Estendida) com valores e tempos diferentes.</p>
    
    <div id="game-categories-list" style="display: flex; flex-direction: column; gap: 8px;">
        <p style="font-size:0.8rem; color:#666; text-align:center;">Nenhum pacote extra adicionado.</p>
    </div>
</div>
    <div class="form-group"><label>Máx. Jogadores *</label><input type="number" id="new-game-max-players" required min="1" value="1"><small style="color:#aaa;">1 = Sessão Exclusiva</small></div>
    
<div class="form-group">
    <label class="upload-label" style="justify-content:flex-start; padding:10px; cursor:pointer;">
        <input type="checkbox" id="check-extra-life" style="width:auto; margin-right:10px;" onchange="window.toggleExtraLifeSection()"> 
        Possui Vida Extra?
    </label>
    
    <div id="extra-life-config-container" class="hidden" style="margin-top:10px; border-left: 2px solid var(--secondary-color); padding-left: 10px; margin-left: 5px;">
        
        <div class="form-group">
            <label style="font-size:0.8rem; color:#aaa;">Tempo Extra (Minutos)</label>
            <input type="number" id="new-game-extra-life-time" placeholder="Ex: 15" value="15">
        </div>

        <label style="font-size:0.8rem; color:#aaa; margin-top:10px; display:block;">Mídia da Vida Extra</label>
        <div class="tab-buttons small-tabs" style="margin-bottom: 10px; display:flex; gap:5px;">
            <button type="button" class="tab-btn active" onclick="window.switchExtraLifeTab('upload')" id="btn-tab-el-upload">Upload</button>
            <button type="button" class="tab-btn" onclick="window.switchExtraLifeTab('library')" id="btn-tab-el-library">Biblioteca do Jogo</button>
        </div>

        <input type="hidden" id="extra-life-media-url">

        <div id="el-tab-upload">
            <div class="upload-box-container" style="min-height: 80px; padding: 10px;" onclick="document.getElementById('extra-life-upload-input').click()">
                <ion-icon name="cloud-upload-outline" style="font-size: 1.5rem; color:#aaa;"></ion-icon>
                <span class="upload-box-text" style="font-size: 0.8rem;">Enviar Vídeo/Áudio</span>
                <input type="file" id="extra-life-upload-input" accept="video/*,audio/*" style="display:none;">
            </div>
            <div id="el-upload-status" style="font-size:0.75rem; color:#00ff88; margin-top:5px; text-align:center;"></div>
        </div>

        <div id="el-tab-library" class="hidden">
            <input type="text" id="el-library-search" placeholder="Pesquisar mídia..." class="admin-input" style="padding: 5px; font-size: 0.8rem; margin-bottom: 5px;" onkeyup="window.filterExtraLifeLibrary()">
            
            <div id="el-library-list" class="media-library-scroll">
                <p style="text-align:center; opacity:0.5; font-size:0.8rem; padding:10px;">Nenhuma mídia encontrada nesta sessão.</p>
            </div>
        </div>

        <div id="el-selected-preview" class="hidden" style="margin-top: 10px; background: rgba(233, 69, 96, 0.1); padding: 8px; border-radius: 4px; display: flex; align-items: center; justify-content: space-between;">
            <div style="display:flex; align-items:center; gap:5px; overflow:hidden;">
                <ion-icon name="checkmark-circle" style="color: #00ff88;"></ion-icon>
                <span id="el-selected-name" style="font-size: 0.8rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Mídia Selecionada</span>
            </div>
            <button type="button" onclick="window.clearExtraLifeSelection()" style="background:none; border:none; color:#ff4444; cursor:pointer;">&times;</button>
        </div>

    </div>
</div>
    <div class="form-group" style="position:relative;"><label>Tags</label><div class="tags-input-container" id="tags-wrapper" onclick="document.getElementById('tag-input-field').focus()"><input type="text" id="tag-input-field" class="tag-input-field" placeholder="Digite..." autocomplete="off"></div></div>

    <div class="form-group"><label>Descrição Curta</label><input type="text" id="new-game-short-desc"></div>
    <div class="form-group"><label>Descrição Completa</label><textarea id="new-game-full-desc" rows="3"></textarea></div>

    <h4 style="color: var(--secondary-color); border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px; margin-top:20px;">Marketing</h4>
    
    <div class="form-group">
        <label>Capa do Jogo</label>
        <div class="upload-box-container upload-btn" onclick="document.getElementById('admin-cover-upload').click()">
            <ion-icon name="image-outline" class="upload-box-icon"></ion-icon>
            <span class="upload-box-text">Clique para enviar imagem</span>
            <input type="hidden" id="new-game-cover"> 
            <input type="file" id="admin-cover-upload" accept="image/*" style="display:none;">
        </div>
        <img id="admin-cover-preview" src="" style="width:100%; height:150px; object-fit:cover; border-radius:8px; margin-top:10px; display:none; border:1px solid #444;">
    </div>

    <div class="form-group">
        <label>Galeria de Fotos</label>
        <div class="upload-box-container upload-btn" onclick="document.getElementById('gallery-upload-input').click()">
            <ion-icon name="images-outline" class="upload-box-icon"></ion-icon>
            <span class="upload-box-text">Adicionar Fotos à Galeria</span>
            <input type="file" id="gallery-upload-input" multiple accept="image/*" style="display:none;">
        </div>
        <div id="gallery-preview-grid" class="gallery-grid" style="margin-top:10px;"></div>
    </div>

    <div class="form-group">
        <label>Vídeo Teaser</label>
        <div class="upload-box-container upload-btn" onclick="document.getElementById('admin-trailer-upload').click()">
            <ion-icon name="videocam-outline" class="upload-box-icon"></ion-icon>
            <span class="upload-box-text">Enviar Vídeo Promocional</span>
            <input type="hidden" id="new-game-trailer">
            <input type="file" id="admin-trailer-upload" accept="video/*" style="display:none;">
        </div>
        <div id="trailer-status" style="font-size:0.8rem; color:#aaa; margin-top:5px; text-align:center;"></div>
    </div>
</div>
                    

    <div class="modal-col-right" style="background: rgba(0,0,0,0.2); padding: 1.5rem; border-radius: 8px;display: flex; flex-direction: column;">
        <div class="form-group">
    <label style="color: var(--secondary-color); margin-bottom: 10px; display: block;">
        <ion-icon name="timer-outline"></ion-icon> Personalização do Timer
    </label>

    <div class="timer-config-wrapper">
        <div class="timer-controls-row">
            <div>
                <label style="font-size:0.8rem; color:#aaa;">Tipo</label>
                <select id="edit-timer-type" onchange="updateTimerPreview()">
                    <option value="regressive">Regressivo (60:00)</option>
                    <option value="progressive">Progressivo (00:00)</option>
                </select>
            </div>
            
            <div>
                <label style="font-size:0.8rem; color:#aaa;">Fonte</label>
                <select id="edit-timer-font" onchange="updateTimerPreview()">
                    <optgroup label="Padrão">
                        <option value="sans-serif">Padrão Clean</option>
                        <option value="'Courier New', monospace">Máquina de Escrever</option>
                        <option value="'Arial Black', sans-serif">Bold Impact</option>
                    </optgroup>
                    <optgroup label="Futurista / Sci-Fi">
                        <option value="'Orbitron', sans-serif">Orbitron (Digital)</option>
                        <option value="'Share Tech Mono', monospace">Tech Mono (Hacker)</option>
                        <option value="'Black Ops One', cursive">Black Ops (Militar)</option>
                        <option value="'Russo One', sans-serif">Russo One (Sólido)</option>
                    </optgroup>
                    <optgroup label="Retrô / Pixel / Arcade">
                        <option value="'Press Start 2P', cursive">Pixel Art 8-bit</option>
                        <option value="'VT323', monospace">Terminal Antigo</option>
                        <option value="'DotGothic16', sans-serif">Dot Matrix</option>
                        <option value="'Monoton', cursive">Monoton (Neon 80s)</option>
                    </optgroup>
                    <optgroup label="Terror / Suspense">
                        <option value="'Creepster', cursive">Creepster (Sangrento)</option>
                        <option value="'Special Elite', cursive">Grunge Typewriter</option>
                        <option value="'MedievalSharp', cursive">Medieval</option>
                        <option value="'Cinzel', serif">Cinzel (Romano/Mítico)</option>
                    </optgroup>
                    <optgroup label="Divertido / Casual">
                        <option value="'Fredoka One', cursive">Fredoka (Arredondado)</option>
                        <option value="'Bangers', cursive">Bangers (Quadrinhos)</option>
                        <option value="'Lobster', cursive">Lobster (Cursiva)</option>
                        <option value="'Permanent Marker', cursive">Marcador</option>
                        <option value="'Pacifico', cursive">Manuscrito</option>
                    </optgroup>
                    <optgroup label="Velocidade / Ação">
                        <option value="'Faster One', cursive">Faster (Rápido)</option>
                        <option value="'Righteous', cursive">Righteous (Moderno)</option>
                        <option value="'Anton', sans-serif">Anton (Alto)</option>
                        <option value="'Oswald', sans-serif">Oswald (Condensado)</option>
                    </optgroup>
                </select>
            </div>

            <div>
                <label style="font-size:0.8rem; color:#aaa;">Cor</label>
                <input type="color" id="edit-timer-color" value="#ff0000" oninput="updateTimerPreview()" style="height:42px; padding:2px; cursor:pointer;">
            </div>
        </div>

        <div class="timer-preview-box">
            <span id="timer-preview-text" class="timer-preview-text">60:00</span>
        </div>
        <p style="text-align:center; font-size:0.75rem; color:#555; margin-top:5px;">* Visualização aproximada. O tamanho real depende da tela do jogador.</p>
    </div>
</div>

    <div class="form-group">
<h4 style="color: var(--secondary-color); margin-top: 20px;">Decisões</h4>
<div class="decision-creation-box">
    <input type="text" id="decision-question-input" class="admin-input" placeholder="Pergunta (Ex: Qual caminho seguir?)" style="margin-bottom:10px;">
    
    <div id="decision-options-container" class="decision-options-grid" style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:5px;">
        </div>

    <button type="button" id="add-decision-btn" class="submit-btn small-btn" style="width:100%; margin-top:5px;">
        <ion-icon name="add-circle-outline"></ion-icon> Adicionar Decisão
    </button>

    <div style="margin-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 10px;">
        <label style="font-size:0.85rem; color:#aaa; margin-bottom:10px; display:block;">Decisões Salvas:</label>
        <div id="decisions-list-container"></div>
    </div>
</div>
                        <h4 style="color: var(--secondary-color); border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px;">
                            <ion-icon name="layers-outline"></ion-icon> Mídias da Sessão
                        </h4>
                        <p class="form-hint" style="margin-bottom: 1rem;">Conteúdo que o Host envia aos jogadores (Pistas, Áudios, Vídeos).</p>
                        
                        <div style="background:var(--sidebar-bg); padding:1rem; border-radius:6px; border:1px dashed #444; margin-bottom:1rem;">
                            <div class="form-group">
                                <label>Nome da Mídia</label>
                                <input type="text" id="asset-name-input" placeholder="Ex: Áudio do Fantasma">
                            </div>
                            
                            <label style="font-size: 0.9rem; margin-bottom: 5px; display: block; color: var(--text-color-light);">Selecione o Tipo:</label>
                            
                            <div class="upload-type-grid">
                                <input type="file" id="upload-asset-image" accept="image/png, image/jpeg, image/jpg, image/gif" style="display:none;">
                                <label for="upload-asset-image" class="type-btn" title="Enviar Imagem">
                                    <ion-icon name="image-outline"></ion-icon> <span>Foto</span>
                                </label>

                                <input type="file" id="upload-asset-video" accept="video/mp4, video/webm" style="display:none;">
                                <label for="upload-asset-video" class="type-btn" title="Enviar Vídeo">
                                    <ion-icon name="videocam-outline"></ion-icon> <span>Vídeo</span>
                                </label>

                                <input type="file" id="upload-asset-audio" accept="audio/mp3, audio/wav, audio/mpeg, audio/ogg" style="display:none;">
                                <label for="upload-asset-audio" class="type-btn" title="Enviar Áudio">
                                    <ion-icon name="musical-notes-outline"></ion-icon> <span>Áudio</span>
                                </label>
                            </div>

                            <div id="selected-file-display" class="hidden" style="margin-top: 10px; padding: 8px; background: rgba(0,255,136,0.1); border-radius: 4px; font-size: 0.85rem; display: flex; align-items: center; justify-content: space-between;">
                                <span id="asset-filename-text" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">Arquivo.mp3</span>
                                <button type="button" id="clear-asset-selection" style="background:none; border:none; color: #ff4f4f; cursor: pointer;">&times;</button>
                            </div>

                            <button type="button" id="add-asset-btn" class="submit-btn small-btn secondary-btn" style="width: 100%; margin-top: 10px;" disabled>
                                <ion-icon name="cloud-upload-outline"></ion-icon> Adicionar à Lista
                            </button>
                            <span id="assets-upload-status" class="form-hint" style="text-align: center; margin-top: 5px; display: block;"></span>
                        </div>

                        <div style="flex:1; overflow-y:auto; border:1px solid #333; border-radius:6px; background:var(--sidebar-bg);">
                            <div id="assets-crud-list" class="crud-list">
                                <p style="padding:10px;text-align:center;opacity:0.5;">Nenhuma mídia adicionada.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer"><div class="right-buttons"><button type="button" id="cancel-create-game-btn" class="submit-btn secondary-btn">Cancelar</button><button type="submit" id="save-game-submit-btn" class="submit-btn">Salvar</button></div></div>
            </form>
        </div>
    </div>
</div>
</div>

    <div id="agenda-modal" class="modal-overlay hidden">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Agenda: <span id="agenda-game-name" style="color:var(--secondary-color)"></span></h2>
                <button id="close-agenda-modal" class="close-overlay-btn">&times;</button>
            </div>
            <div class="modal-body-scroll">
                <div class="tab-buttons" style="margin-bottom: 1rem;">
                    <button type="button" class="tab-btn active" id="tab-calendar-view">Calendário</button>
                    <button type="button" class="tab-btn" id="tab-bulk-add">Em Massa</button>
                </div>

                <div id="schedule-view-calendar">
                    <div class="calendar-container">
                        <div class="calendar-header">
                            <button type="button" id="admin-prev-month" class="nav-btn"><ion-icon name="chevron-back"></ion-icon></button>
                            <h4 id="admin-month-header">Janeiro 2026</h4>
                            <button type="button" id="admin-next-month" class="nav-btn"><ion-icon name="chevron-forward"></ion-icon></button>
                        </div>
                        <div class="calendar-weekdays"><div>Dom</div><div>Seg</div><div>Ter</div><div>Qua</div><div>Qui</div><div>Sex</div><div>Sáb</div></div>
                        <div id="admin-calendar-grid" class="calendar-grid"></div>
                    </div>
                    
                    <div id="single-day-editor" class="hidden">
                        <h4>Horários para <span id="editing-date-display" style="color:var(--secondary-color);"></span></h4>
                        <div id="single-day-slots" style="display:flex;flex-wrap:wrap;gap:0.5rem;margin:10px 0;"></div>
                        <div style="display:flex; gap:10px;">
                        <input type="text" id="single-time-input" placeholder="HH:MM" maxlength="5" style="flex:1; padding:0.5rem; border-radius:5px; background:var(--bg-color); color:#fff; border:1px solid #444; text-align:center; font-size:1.1rem; letter-spacing: 2px;"><button type="button" id="add-single-time-btn" class="submit-btn small-btn">+</button>
                        <button type="button" id="add-single-time-btn" class="submit-btn small-btn">+</button>
                        </div>
                        <div style="display:flex;gap:10px;margin-top:15px;justify-content:flex-end;">
                            <button id="clear-day-btn" class="submit-btn danger-btn small-btn">Limpar Dia</button>
                            <button id="save-single-day-btn" class="submit-btn small-btn">Salvar Dia</button>
                        </div>
                    </div>
                </div>

                <div id="schedule-view-bulk" class="hidden">
                    <div class="form-group"><label>Período</label><div style="display:flex;gap:10px;"><input type="date" id="bulk-start-date"><input type="date" id="bulk-end-date"></div></div>
                    <div class="form-group"><label>Dias</label><div style="display:flex;gap:5px;flex-wrap:wrap;"><label><input type="checkbox" value="0" checked> Dom</label><label><input type="checkbox" value="1" checked> Seg</label><label><input type="checkbox" value="2" checked> Ter</label><label><input type="checkbox" value="3" checked> Qua</label><label><input type="checkbox" value="4" checked> Qui</label><label><input type="checkbox" value="5" checked> Sex</label><label><input type="checkbox" value="6" checked> Sáb</label></div></div>
                    <div class="form-group"><label>Horários</label><div style="display:flex;gap:5px;"><select id="bulk-time-input" style="flex:1;padding:5px;border-radius:5px;background:var(--bg-color);color:#fff;border:1px solid #444;"></select><button type="button" id="add-bulk-time-btn" class="submit-btn small-btn">Add</button></div></div>
                    <div id="bulk-times-list" style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:1rem;min-height:40px;border:1px dashed var(--border-color);padding:5px;"></div>
                    <button type="button" id="apply-bulk-schedule-btn" class="submit-btn primary-btn" style="width:100%">Aplicar Agenda</button>
                </div>
            </div>
        </div>
    </div>

    <div id="delete-confirm-modal" class="modal-overlay hidden" style="z-index: 3000;">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <ion-icon name="warning-outline" style="font-size: 3rem; color: #ff4f4f;"></ion-icon>
            <h3 style="color: #ff4f4f;">Excluir Jogo?</h3>
            <p>Digite o nome do jogo para confirmar:</p>
            <strong id="delete-game-name-display" class="delete-confirmation-highlight"></strong>
            <input type="text" id="delete-verification-input" placeholder="Digite o nome aqui" class="form-group">
            <div class="modal-footer" style="justify-content: center; gap: 10px; padding-top: 0; border: none;">
                <button id="cancel-delete-modal-btn" class="submit-btn secondary-btn">Cancelar</button>
                <button id="confirm-delete-action-btn" class="submit-btn danger-btn" disabled>Excluir</button>
            </div>
        </div>
    </div>

    <div id="game-sessions-modal" class="modal-overlay hidden">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h2>Sessões: <span id="sessions-game-name" style="color:var(--secondary-color)"></span></h2>
                <button id="close-sessions-modal" class="close-overlay-btn">&times;</button>
            </div>
            
            <div class="modal-body-scroll">
                <p class="form-hint" style="margin-bottom: 1rem;">Abaixo estão os agendamentos futuros para este jogo.</p>
                
                <div id="game-sessions-list" class="bookings-list">
                    <div class="loader"></div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="close-sessions-btn" class="submit-btn secondary-btn" style="width: 100%;">Fechar</button>
            </div>
        </div>
    </div>

    <div id="category-modal" class="modal-overlay hidden" style="z-index: 4000;">
    <div class="modal-box" style="max-width: 400px; padding: 25px;">
        <h3 style="color: var(--secondary-color); margin-bottom: 15px;">Novo Pacote de Jogo</h3>
        
        <div class="form-group">
            <label>Nome da Categoria</label>
            <input type="text" id="cat-name" placeholder="Ex: Jogatina Premium, Sessão Completa" class="admin-input">
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label>Valor (R$)</label>
                <input type="number" id="cat-price" step="0.01" placeholder="0.00" class="admin-input">
            </div>
            <div class="form-group">
                <label>Duração (Minutos)</label>
                <input type="number" id="cat-duration" placeholder="Ex: 120" class="admin-input">
            </div>
        </div>

        <div class="modal-footer" style="margin-top: 20px;">
            <button type="button" class="submit-btn secondary-btn" onclick="window.closeCategoryModal()">Cancelar</button>
            <button type="button" class="submit-btn" onclick="window.addCategory()">Adicionar Pacote</button>
        </div>
    </div>
</div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script src="assets/js/firebase-config.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
        loadAsset('assets/css/style.8f3f5b8c.css');
        loadAsset('assets/js/admin.8f3f5b8c.js');
    </script>
</body>
</html>